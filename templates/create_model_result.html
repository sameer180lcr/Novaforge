{% extends 'base.html' %}
{% block title %}Build Plan — Custom Model{% endblock %}
{% block content %}
<section class="container page-head">
  <h1>Build Plan Generated</h1>
  <p class="muted">Your custom model plan is ready. Review details below, estimated build time, and add to cart to proceed.</p>
</section>

<section class="container">
  <div class="card success">
    <div class="grid-2">
      <div>
        <h2>{{ cfg.project_name }}</h2>
        <p><strong>Status:</strong> Successful • Build plan generated</p>
        <p><strong>Estimated Build Time:</strong> {{ cfg.build_days }} days</p>
        <p><strong>Estimated Price:</strong> ${{ '%.2f'|format(cfg.price) }}</p>
      </div>
      <div class="align-right">
        <form method="post" action="{{ url_for('add_current_custom_to_cart') }}">
          <button class="btn-primary">Add build to cart</button>
        </form>
        <a class="btn-secondary" href="{{ url_for('create_model') }}">Edit configuration</a>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>Summary</h2>
    <div class="grid-3">
      <div>
        <h3>Core</h3>
        <ul class="bullet">
          <li>Framework: {{ cfg.framework }}</li>
          <li>Size: {{ cfg.size }}</li>
          <li>Modality: {{ cfg.modality }}</li>
          <li>Context: {{ cfg.context }}</li>
          <li>Quantization: {{ cfg.quantization }}</li>
          <li>Tokenizer: {{ cfg.tokenizer }}</li>
        </ul>
      </div>
      <div>
        <h3>Training & Alignment</h3>
        <ul class="bullet">
          <li>Finetune: {{ cfg.finetune }}</li>
          <li>RLHF: {{ 'Yes' if cfg.rlhf else 'No' }}</li>
          <li>Safety: {{ 'Yes' if cfg.safety else 'No' }}</li>
          <li>Multilingual: {{ 'Yes' if cfg.multilingual else 'No' }}</li>
        </ul>
      </div>
      <div>
        <h3>Retrieval & Tools</h3>
        <ul class="bullet">
          <li>Retrieval: {{ 'Yes' if cfg.retrieval else 'No' }}</li>
          <li>Vector DB: {{ cfg.vectordb }}</li>
          <li>Function Calling: {{ 'Yes' if cfg.function_calling else 'No' }}</li>
          <li>Tools: {{ 'Yes' if cfg.tools else 'No' }}</li>
          <li>Streaming: {{ 'Yes' if cfg.streaming else 'No' }}</li>
          <li>SDKs: {{ cfg.sdks|join(', ') if cfg.sdks else 'None' }}</li>
        </ul>
      </div>
      <div>
        <h3>Serving</h3>
        <ul class="bullet">
          <li>Batch Size: {{ cfg.batch_size }}</li>
          <li>Latency: {{ cfg.latency_ms }} ms</li>
          <li>Throughput: {{ cfg.throughput_rps }} RPS</li>
          <li>GPU: {{ cfg.gpu }}</li>
          <li>Regions: {{ cfg.regions|join(', ') if cfg.regions else '—' }}</li>
          <li>Endpoints: {{ cfg.endpoints|join(', ') if cfg.endpoints else '—' }}</li>
        </ul>
      </div>
      <div>
        <h3>Security & Compliance</h3>
        <ul class="bullet">
          <li>Auth: {{ cfg.auth }}</li>
          <li>Compliance: {{ cfg.compliance|join(', ') if cfg.compliance else 'None' }}</li>
          <li>Audit Logging: {{ 'Yes' if cfg.logging else 'No' }}</li>
          <li>Monitoring: {{ 'Yes' if cfg.monitoring else 'No' }}</li>
          <li>Autoscale: {{ 'Yes' if cfg.autoscale else 'No' }}</li>
          <li>SLA: {{ cfg.sla|capitalize }}</li>
          <li>Budget: {{ cfg.budget|capitalize }}</li>
        </ul>
      </div>
      <div>
        <h3>Notes</h3>
        <p class="muted">{{ cfg.notes if cfg.notes else '—' }}</p>
      </div>
    </div>
  </div>
</section>
{% endblock %}
